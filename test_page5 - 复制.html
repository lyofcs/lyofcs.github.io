<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>动态收纳板示例</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        body {
            font-family: Arial, sans-serif;
        }

        .container {
            width: 80%;
            margin: 0 auto;
            padding-top: 50px;
        }

        .accordion-item {
            border: 1px solid #ccc;
            border-radius: 5px;
            overflow: hidden;
            transition: box-shadow 0.3s ease;
        }

            .accordion-item.highlight {
                box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
            }

        .accordion-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background-color: #f9f9f9;
            cursor: pointer;
        }

        .accordion-text {
            flex-grow: 1;
        }

        .accordion-arrow {
            transition: transform 0.3s ease;
        }

        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out;
            background-color: #fff;
        }

            .accordion-content table {
                width: 100%;
                border-collapse: collapse;
            }

            .accordion-content th, .accordion-content td {
                padding: 10px;
                border: 1px solid #ddd;
                text-align: left;
            }

        /* ...（与之前相同的CSS样式）... */

        /* 为动态创建的收纳板添加一些额外的样式 */
        .accordion-item {
            margin-bottom: 10px; /* 添加一些间距以分隔收纳板 */
        }
    </style>
</head>
<body>
    <div class="container" id="accordionContainer">
        <!-- 收纳板将动态添加到这里 -->
    </div>
    <button onclick="addAccordionPanel()">添加新收纳板</button>
    <script>
        let panelCount = 0; // 用于生成唯一的收纳板ID  

        function createAccordionPanel(title) {
            // 创建一个新的收纳板元素  
            const accordionItem = document.createElement('div');
            accordionItem.className = 'accordion-item';
            accordionItem.id = `accordionItem-${panelCount++}`;

            // 创建收纳板头部  
            const accordionHeader = document.createElement('div');
            accordionHeader.className = 'accordion-header';
            accordionHeader.onclick = function () {
                toggleAccordion(this.nextElementSibling, this.querySelector('.accordion-arrow'));
            };

            const accordionText = document.createElement('span');
            accordionText.className = 'accordion-text';
            accordionText.textContent = title;

            const accordionArrow = document.createElement('span');
            accordionArrow.className = 'accordion-arrow';
            accordionArrow.textContent = '&#9660;'; // 初始状态为收缩  

            accordionHeader.appendChild(accordionText);
            accordionHeader.appendChild(accordionArrow);

            // 创建收纳板内容  
            const accordionContent = document.createElement('div');
            accordionContent.className = 'accordion-content';
            accordionContent.style.maxHeight = '0px'; // 初始状态为收缩  

            // 这里可以动态添加表格或其他内容到accordionContent中  
            // 例如，添加一个空的表格作为占位符  
            const table = document.createElement('table');
            // ...（添加表格的thead和tbody等）...  
            accordionContent.appendChild(table);

            // 将头部和内容添加到收纳板中  
            accordionItem.appendChild(accordionHeader);
            accordionItem.appendChild(accordionContent);

            return accordionItem;
        }

        function toggleAccordion(content, arrow) {
            // 切换内容高度和箭头方向  
            if (content.style.maxHeight) {
                content.style.maxHeight = null;
                arrow.textContent = '&#9660;'; // 切换为下箭头  
            } else {
                content.style.maxHeight = content.scrollHeight + 'px';
                arrow.textContent = '&#9650;'; // 切换为上箭头  
            }

            // 可选：添加或移除高亮效果  
            // const accordionItem = content.parentElement;  
            // accordionItem.classList.toggle('highlight');  
        }

        function addAccordionPanel() {
            // 生成一个新的标题（例如，使用面板计数）  
            const title = `数据表格 ${panelCount}`;

            // 创建新的收纳板并添加到容器中  
            const newPanel = createAccordionPanel(title);
            const container = document.getElementById('accordionContainer');
            container.appendChild(newPanel);
        }
    </script>
</body>
</html>